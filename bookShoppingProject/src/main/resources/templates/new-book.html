<!DOCTYPE html>
<html lang = "en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<title th:text="${header}">Yeni Kitab</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<style type="text/css">
			#book-register-form{
				width: 300px;
				margin: auto;
			}
			.error-message{
				color: red;
			}
		</style>
	</head>
	<body>
		<div th:replace = "~{menu :: menu}"></div>
		<h1 th:text="${header}" style="text-align: center; color: orange;">Yeni Kitab</h1>
		
		<form th:action="@{/books/new-book-process}" id="book-register-form" method="POST" th:object="${book}" enctype="multipart/form-data">
			<div class="form-group" style="display: none;">
				<label for="book-id">ID:</label>
				<input class="form-control" id="book-id" th:field="*{id}"/>
			</div>	
			<div class="form-group">
				<label for="book-name">Kitabın adı:</label>
				<input class="form-control" id="book-name" th:field="*{name}"/>
				<span class="error-message" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
			</div>	
				<label for="book-description">Kitabın təsviri:</label>
				<textarea class="form-control" id="book-description" th:field="*{description}"></textarea>
				<span class="error-message" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
			</div>
			<div class="form-group">	
				<label for="book-price">Kitabın qiyməti:</label>
				<input class="form-control" type="number" id="book-price" th:field="*{price}"/>
				<span class="error-message" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></span>
			</div>
			<div class="form-group">	
				<label for="book-author">Kitabın müəllifi:</label>
				<input class="form-control" id="book-author" th:field="*{author}"/>
				<span class="error-message" th:if="${#fields.hasErrors('author')}" th:errors="*{author}"></span>
			</div>
			<div class="form-group">	
				<label for="book-page-count">Kitabın səhifə sayı:</label>
				<input class="form-control" type="number" id="book-page-count" th:field="*{pageCount}"/>
				<span class="error-message" th:if="${#fields.hasErrors('pageCount')}" th:errors="*{pageCount}"></span>
			</div>
			<div class="form-group">	
				<label for="book-page-count">Şəkil:</label>
				<input class="form-control" type="file" id="book-image" name="imageFile" accept="image/x-png,image/jpeg,image/jpg" />
			</div>
				
			<input class="btn btn-success" type="submit" value="Yadda saxla"/>
		</form>
		<a th:href="@{/books}">Kitabların Siyahısı</a>
	</body>
</html>